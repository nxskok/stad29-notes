\documentclass{article}
\title{The multiway data}
\usepackage{graphicx}
\usepackage{Statweave}
\begin{document}
\maketitle
The data:
\begin{verbatim}
politician male scifi 15
politician male spy 15
politician female scifi 10
politician female spy 15
administrator male scifi 10
administrator male spy 30
administrator female scifi 5
administrator female spy 10
bellydancer male scifi 5
bellydancer male spy 5
bellydancer female scifi 10
bellydancer female spy 25
\end{verbatim}
The SAS code and output:
\begin{Winput}
data small;
  infile "multiway.dat";
  input profession $ sex $ readtype $ freq;

proc catmod;
  weight freq;
  model profession*sex*readtype=_response_;
  loglin profession sex readtype profession*sex profession*readtype sex*readtype profession*sex*readtype;

proc catmod;
  weight freq;
  model profession*sex*readtype=_response_;
  loglin profession sex readtype profession*sex profession*readtype sex*readtype;

proc catmod;
  weight freq;
  model profession*sex*readtype=_response_;
  loglin profession sex readtype profession*sex;

\end{Winput}
\begin{Woutput}
The CATMOD Procedure
                           Data Summary
Response           profession*sex*readtype     Response Levels   12
Weight Variable    freq                        Populations        1
Data Set           SMALL                       Total Frequency  155
Frequency Missing  0                           Observations      12

 Population Profiles
Sample    Sample Size
---------------------
    1             155

             Response Profiles
Response    profession    sex       readtype
--------------------------------------------
    1       administ      female    scifi
    2       administ      female    spy
    3       administ      male      scifi
    4       administ      male      spy
    5       bellydan      female    scifi
    6       bellydan      female    spy
    7       bellydan      male      scifi
    8       bellydan      male      spy
    9       politici      female    scifi
   10       politici      female    spy
   11       politici      male      scifi
   12       politici      male      spy

                   Maximum Likelihood Analysis
           Maximum likelihood computations converged.

         Maximum Likelihood Analysis of Variance
Source                      DF   Chi-Square    Pr > ChiSq
---------------------------------------------------------
profession                   2         3.46        0.1777
sex                          1         0.01        0.9256
readtype                     1         7.61        0.0058
profession*sex               2        17.58        0.0002
profession*readtype          2         2.62        0.2691
sex*readtype                 1         0.66        0.4168
profession*sex*readtype      2         1.89        0.3894
Likelihood Ratio             0          .           .

The CATMOD Procedure
                           Analysis of Maximum Likelihood Estimates
                                                            Standard        Chi-
Parameter                                        Estimate      Error      Square    Pr > ChiSq
----------------------------------------------------------------------------------------------
profession              administ                  0.00538     0.1337        0.00        0.9679
                        bellydan                  -0.2135     0.1417        2.27        0.1320
sex                     female                    0.00878     0.0940        0.01        0.9256
readtype                scifi                     -0.2595     0.0940        7.61        0.0058
profession*sex          administ female           -0.4567     0.1337       11.67        0.0006
                        bellydan female            0.5669     0.1417       15.99        <.0001
profession*readtype     administ scifi            -0.1885     0.1337        1.99        0.1586
                        bellydan scifi             0.0304     0.1417        0.05        0.8303
sex*readtype            female scifi              -0.0764     0.0940        0.66        0.4168
profession*sex*readtype administ female scifi      0.1777     0.1337        1.77        0.1837
                        bellydan female scifi     -0.1527     0.1417        1.16        0.2813

The CATMOD Procedure
                           Data Summary
Response           profession*sex*readtype     Response Levels   12
Weight Variable    freq                        Populations        1
Data Set           SMALL                       Total Frequency  155
Frequency Missing  0                           Observations      12

 Population Profiles
Sample    Sample Size
---------------------
    1             155

             Response Profiles
Response    profession    sex       readtype
--------------------------------------------
    1       administ      female    scifi
    2       administ      female    spy
    3       administ      male      scifi
    4       administ      male      spy
    5       bellydan      female    scifi
    6       bellydan      female    spy
    7       bellydan      male      scifi
    8       bellydan      male      spy
    9       politici      female    scifi
   10       politici      female    spy
   11       politici      male      scifi
   12       politici      male      spy

                   Maximum Likelihood Analysis
           Maximum likelihood computations converged.

       Maximum Likelihood Analysis of Variance
Source                  DF   Chi-Square    Pr > ChiSq
-----------------------------------------------------
profession               2         3.58        0.1674
sex                      1         0.00        0.9453
readtype                 1        13.02        0.0003
profession*sex           2        23.00        <.0001
profession*readtype      2         4.32        0.1155
sex*readtype             1         0.62        0.4321
Likelihood Ratio         2         1.85        0.3969

The CATMOD Procedure
                      Analysis of Maximum Likelihood Estimates
                                                  Standard        Chi-
Parameter                              Estimate      Error      Square    Pr > ChiSq
------------------------------------------------------------------------------------
profession          administ            -0.0181     0.1370        0.02        0.8948
                    bellydan            -0.2022     0.1441        1.97        0.1606
sex                 female             -0.00649     0.0945        0.00        0.9453
readtype            scifi               -0.3104     0.0860       13.02        0.0003
profession*sex      administ female     -0.5192     0.1275       16.58        <.0001
                    bellydan female      0.6111     0.1376       19.71        <.0001
profession*readtype administ scifi      -0.2154     0.1306        2.72        0.0991
                    bellydan scifi      0.00334     0.1358        0.00        0.9803
sex*readtype        female scifi        -0.0733     0.0933        0.62        0.4321

The CATMOD Procedure
                           Data Summary
Response           profession*sex*readtype     Response Levels   12
Weight Variable    freq                        Populations        1
Data Set           SMALL                       Total Frequency  155
Frequency Missing  0                           Observations      12

 Population Profiles
Sample    Sample Size
---------------------
    1             155

             Response Profiles
Response    profession    sex       readtype
--------------------------------------------
    1       administ      female    scifi
    2       administ      female    spy
    3       administ      male      scifi
    4       administ      male      spy
    5       bellydan      female    scifi
    6       bellydan      female    spy
    7       bellydan      male      scifi
    8       bellydan      male      spy
    9       politici      female    scifi
   10       politici      female    spy
   11       politici      male      scifi
   12       politici      male      spy

                   Maximum Likelihood Analysis
           Maximum likelihood computations converged.

     Maximum Likelihood Analysis of Variance
Source               DF   Chi-Square    Pr > ChiSq
--------------------------------------------------
profession            2         2.90        0.2348
sex                   1         0.03        0.8686
readtype              1        12.68        0.0004
profession*sex        2        22.79        <.0001
Likelihood Ratio      5         6.56        0.2557

                   Analysis of Maximum Likelihood Estimates
                                             Standard        Chi-
Parameter                         Estimate      Error      Square    Pr > ChiSq
-------------------------------------------------------------------------------
profession     administ             0.0526     0.1257        0.18        0.6753
               bellydan            -0.2169     0.1374        2.49        0.1144
sex            female               0.0149     0.0903        0.03        0.8686

The CATMOD Procedure
                   Analysis of Maximum Likelihood Estimates
                                             Standard        Chi-
Parameter                         Estimate      Error      Square    Pr > ChiSq
-------------------------------------------------------------------------------
readtype       scifi               -0.2989     0.0839       12.68        0.0004
profession*sex administ female     -0.5053     0.1257       16.17        <.0001
               bellydan female      0.6114     0.1374       19.82        <.0001
\end{Woutput}
\end{document}
